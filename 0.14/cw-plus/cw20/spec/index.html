<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/docs/blog/rss.xml" title="CosmWasm Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs/blog/atom.xml" title="CosmWasm Documentation Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="CosmWasm Documentation" href="/docs/opensearch.xml"><title data-react-helmet="true">CW20 Spec: Fungible Tokens | CosmWasm Documentation</title><meta data-react-helmet="true" property="og:url" content="https://test-docs.cosmwasm.com/docs/0.14/cw-plus/cw20/spec"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="CW20 Spec: Fungible Tokens | CosmWasm Documentation"><meta data-react-helmet="true" name="description" content="cw20 package source code//github.com/CosmWasm/cosmwasm-plus/tree/master/packages/cw20"><meta data-react-helmet="true" property="og:description" content="cw20 package source code//github.com/CosmWasm/cosmwasm-plus/tree/master/packages/cw20"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://test-docs.cosmwasm.com/docs/0.14/cw-plus/cw20/spec"><link data-react-helmet="true" rel="alternate" href="https://test-docs.cosmwasm.com/docs/0.14/cw-plus/cw20/spec" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://test-docs.cosmwasm.com/docs/0.14/cw-plus/cw20/spec" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.83ef4428.css">
<link rel="preload" href="/docs/assets/js/runtime~main.5f7d9a74.js" as="script">
<link rel="preload" href="/docs/assets/js/main.2da47352.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><img src="/docs/img/logo.svg" alt="CosmWasm" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs/img/logo.svg" alt="CosmWasm" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a class="navbar__item navbar__link" href="/docs/0.14/">0.14</a></div><div class="navbar__items navbar__items--right"><a href="https://cosmwasm.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Website</a><a href="https://github.com/CosmWasm" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs/"><img src="/docs/img/logo.svg" alt="CosmWasm" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs/img/logo.svg" alt="CosmWasm" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://cosmwasm.com" target="_blank" rel="noopener noreferrer" class="menu__link">Website</a></li><li class="menu__list-item"><a href="https://github.com/CosmWasm" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link">Versions</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Welcome</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/introduction/roadmap">Rough Roadmap</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/getting-started/intro">Your First Contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/getting-started/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/getting-started/setting-env">Setting Up Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/getting-started/compile-contract">Downloading and Compiling Contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/getting-started/interact-with-contract">Uploading and Interacting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/getting-started/next-steps">Next Steps</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/architecture/multichain">What are Multi-Chain Contracts?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/architecture/actor">Actor Model for Contract Calls</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/architecture/addresses">Names and Addresses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/architecture/query">Querying Contract State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/architecture/serialization">Serialization Formats</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/architecture/composition">Contract Composition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/architecture/smart-contracts">Comparison with Solidity Contracts</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Testnets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/testnets/build-requirements">Build Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/testnets/testnets">Joining Testnets</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Learn</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Simple Option</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/simple-option/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/simple-option/setup">Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/simple-option/develop">Develop Contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/simple-option/testing">Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/simple-option/next-steps">Next Steps</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Hijack Escrow</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/hijack-escrow/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/hijack-escrow/hack-contract">Hack the Contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/hijack-escrow/edit-escrow-hints">Hints</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/governance">Smart Contracts Over Governance</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Name Service</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/name-service/intro">Introduction</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Frontend dApp</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/frontend-dapp/intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/frontend-dapp/cosmicdapp-logic">Cosmic dApp logic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/frontend-dapp/cosmicdapp-design">Cosmic dApp design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/frontend-dapp/bootstrap-dapp">Bootstrap dApp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/frontend-dapp/dapp-development">Develop dApp</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/videos-workshops">Videos and Workshops</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/MIGRATING">Migrating Contracts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/learn/CHANGELOG">CHANGELOG</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Community</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/community/hall-of-fame">Hall of Fame</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Plus Contracts</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">CW1</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/cw1/intro">CW1 Spec: Proxy Contracts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/cw1/cw1-subkeys">CW1 Subkeys</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/cw1/cw1-whitelist">CW1 Whitelist</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">CW2</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/cw2/Spec">CW2 Spec: Contract Info for Migration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">CW3</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/cw3/spec">CW3 Spec: MultiSig/Voting Contracts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/cw3/cw3-fixed-spec">CW3 Fixed Multisig</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/cw3/cw3-flex-spec">CW3 Flexible Multisig</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">CW4</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/cw4/spec">CW4 Spec: Group Members</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/cw4/cw4-group-spec">CW4 Group</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/cw4/cw4-stake-spec">CW4 Stake</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">CW20</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/0.14/cw-plus/cw20/spec">CW20 Spec: Fungible Tokens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14/cw-plus/cw20/cw20-base-spec">CW20 Basic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14/cw-plus/cw20/cw20-base-tutorial">CW20-base Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14/cw-plus/cw20/cw20-bonding-spec">CW20 Bonding curve</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14/cw-plus/cw20/cw20-escrow-spec">CW20 Escrow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14/cw-plus/cw20/cw20-staking-spec">CW20 Staking Derivates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.14/cw-plus/cw20/cw20-atomic-swap-spec">Atomic Swaps</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">CW721</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/cw721/spec">CW721 Spec: Non Fungible Tokens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/cw721/cw721-base">Cw721 Basic</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">General</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/general/overview">Plus Contracts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/cw-plus/general/tips">Advanced REPL tips</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">IBC</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/ibc/overview">IBC And CosmWasm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/ibc/relayer">Relayer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/ibc/active-connections">Active IBC connections</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/ibc/cw20-ics20">CW20 ICS20</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Resources</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Media</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.14/resources/media/assets">Brand guidelines</a></li></ul></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">CW20 Spec: Fungible Tokens</h1></header><div class="markdown"><p>cw20 package source code: <a href="https://github.com/CosmWasm/cosmwasm-plus/tree/master/packages/cw20" target="_blank" rel="noopener noreferrer">https://github.com/CosmWasm/cosmwasm-plus/tree/master/packages/cw20</a></p><p>cw20 is a specification for fungible tokens based on CosmWasm.
The name and design is loosely based on Ethereum&#x27;s ERC20 standard,
but many changes have been made. The types in here can be imported by
contracts that wish to implement this  spec, or by contracts that call
to any standard cw20 contract.</p><p>The specification is split into multiple sections, a contract may only
implement some of this functionality, but must implement the base.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>This section contains cw20 spec implementation details.
If you are around to play with the contract,
skip this section and go to the <a href="/docs/0.14/cw-plus/cw20/cw20-base-tutorial">next page</a></p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="base"></a>Base<a class="hash-link" href="#base" title="Direct link to heading">#</a></h2><p>This handles balances and transfers. Note that all amounts are
handled as <code>Uint128</code> (128 bit integers with JSON string representation).
Handling decimals is left to the UI and not interpreted</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="messages"></a>Messages<a class="hash-link" href="#messages" title="Direct link to heading">#</a></h3><p><code>Transfer{recipient, amount}</code> - Moves <code>amount</code> tokens from the
<code>env.sender</code> account to the <code>recipient</code> account. This is designed to
send to an address controlled by a private key and <em>does not</em> trigger
any actions on the recipient if it is a contract.</p><p><code>Send{contract, amount, msg}</code> - Moves <code>amount</code> tokens from the
<code>env.sender</code> account to the <code>recipient</code> account. <code>contract</code> must be an
address of a contract that implements the <code>Receiver</code> interface. The <code>msg</code>
will be passed to the recipient contract, along with the amount.</p><p><code>Burn{amount}</code> - Remove <code>amount</code> tokens from the balance of <code>env.sender</code>
and reduce <code>total_supply</code> by the same amount.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="queries"></a>Queries<a class="hash-link" href="#queries" title="Direct link to heading">#</a></h3><p><code>Balance{address}</code> - Returns the balance of the given address.
Returns &quot;0&quot; if the address is unknown to the contract. Return type
is <code>BalanceResponse{balance}</code>.</p><p><code>TokenInfo{}</code> - Returns the token info of the contract. Return type is
<code>TokenInfoResponse{name, symbol, decimal, total_supply}</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="receiver"></a>Receiver<a class="hash-link" href="#receiver" title="Direct link to heading">#</a></h3><p>The counter-part to <code>Send</code> is <code>Receive</code>, which must be implemented by
any contract that wishes to manage cw20 tokens. This is generally <em>not</em>
implemented by any cw20 contract.</p><p><code>Receive{sender, amount, msg}</code> - This is designed to handle <code>Send</code>
messages. The address of the contract is stored in <code>env.sender</code>
so it cannot be faked. The contract should ensure the sender matches
the token contract it expects to handle, and not allow arbitrary addresses.</p><p>The <code>sender</code> is the original account requesting to move the tokens
and <code>msg</code> is a <code>Binary</code> data that can be decoded into a contract-specific
message. This can be empty if we have only one default action,
or it may be a <code>ReceiveMsg</code> variant to clarify the intention. For example,
if I send to a uniswap contract, I can specify which token I want to swap
against using this field.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="allowances"></a>Allowances<a class="hash-link" href="#allowances" title="Direct link to heading">#</a></h2><p>A contract may allow actors to delegate some of their balance to other
accounts. This is not as essential as with ERC20 as we use <code>Send</code>/<code>Receive</code>
to send tokens to a contract, not <code>Approve</code>/<code>TransferFrom</code>. But it
is still a nice use-case, and you can see how the Cosmos SDK wants to add
payment allowances to native tokens. This is mainly designed to provide
access to other public-key-based accounts.</p><p>There was an issue with race conditions in the original ERC20 approval spec.
If you had an approval of 50 and I then want to reduce it to 20, I submit a
Tx to set the allowance to 20. If you see that and immediately submit a tx
using the entire 50, you then get access to the other 20. Not only did you quickly
spend the 50 before I could reduce it, you get another 20 for free.</p><p>The solution discussed in the Ethereum community was an <code>IncreaseAllowance</code>
and <code>DecreaseAllowance</code> operator (instead of <code>Approve</code>). To originally set
an approval, use <code>IncreaseAllowance</code>, which works fine with no previous allowance.
<code>DecreaseAllowance</code> is meant to be robust, that is if you decrease by more than
the current allowance (eg. the user spent some in the middle), it will just round
down to 0 and not make any underflow error.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="messages-1"></a>Messages<a class="hash-link" href="#messages-1" title="Direct link to heading">#</a></h3><p><code>IncreaseAllowance{spender, amount, expires}</code> - Set or increase the allowance
such that <code>spender</code> may access up to <code>amount + current_allowance</code> tokens
from the <code>env.sender</code> account. This may optionally come with an <code>Expiration</code>
time, which if set limits when the approval can be used (by time or height).</p><p><code>DecreaseAllowance{spender, amount, expires}</code> - Decrease or clear the allowance
such that <code>spender</code> may access up to <code>current_allowance - amount</code> tokens
from the <code>env.sender</code> account. This may optionally come with an <code>Expiration</code>
time, which if set limits when the approval can be used (by time or height).
If <code>amount &gt;= current_allowance</code>, this will clear the allowance (delete it).</p><p><code>TransferFrom{owner, recipient, amount}</code> - This makes use of an allowance
and if there was a valid, un-expired pre-approval for the <code>env.sender</code>,
then we move <code>amount</code> tokens from <code>owner</code> to <code>recipient</code> and deduct it
from the available allowance.</p><p><code>SendFrom{owner, contract, amount, msg}</code> - <code>SendFrom</code> is to <code>Send</code>, what
<code>TransferFrom</code> is to <code>Transfer</code>. This allows a pre-approved account to
not just transfer the tokens, but to send them to another contract
to trigger a given action. <strong>Note</strong> <code>SendFrom</code> will set the <code>Receive{sender}</code>
to be the <code>env.sender</code> (the account that triggered the transfer)
rather than the <code>owner</code> account (the account the money is coming from).
This is an open question whether we should switch this?</p><p><code>BurnFrom{owner, amount}</code> - This works like <code>TransferFrom</code>, but burns
the tokens instead of transfering them. This will reduce the owner&#x27;s
balance, <code>total_supply</code> and the caller&#x27;s allowance.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="queries-1"></a>Queries<a class="hash-link" href="#queries-1" title="Direct link to heading">#</a></h3><p><code>Allowance{owner, spender}</code> - This returns the available allowance
that <code>spender</code> can access from the <code>owner</code>&#x27;s account, along with the
expiration info. Return type is <code>AllowanceResponse{balance, expiration}</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="mintable"></a>Mintable<a class="hash-link" href="#mintable" title="Direct link to heading">#</a></h2><p>This allows another contract to mint new tokens, possibly with a cap.
There is only one minter specified here, if you want more complex
access management, please use a multisig or other contract as the
minter address and handle updating the ACL there.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="messages-2"></a>Messages<a class="hash-link" href="#messages-2" title="Direct link to heading">#</a></h3><p><code>Mint{recipient, amount}</code> - If the <code>env.sender</code> is the allowed minter,
this will create <code>amount</code> new tokens (updating total supply) and
add them to the balance of <code>recipient</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="queries-2"></a>Queries<a class="hash-link" href="#queries-2" title="Direct link to heading">#</a></h3><p><code>Minter{}</code> - Returns who and how much can be minted. Return type is
<code>MinterResponse {minter, cap}</code>. Cap may be unset.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/CosmWasm/docs/edit/main/docs/cw-plus/cw20/spec.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/0.14/cw-plus/cw4/cw4-stake-spec"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« CW4 Stake</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/0.14/cw-plus/cw20/cw20-base-spec"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CW20 Basic Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#base" class="table-of-contents__link">Base</a><ul><li><a href="#messages" class="table-of-contents__link">Messages</a></li><li><a href="#queries" class="table-of-contents__link">Queries</a></li><li><a href="#receiver" class="table-of-contents__link">Receiver</a></li></ul></li><li><a href="#allowances" class="table-of-contents__link">Allowances</a><ul><li><a href="#messages-1" class="table-of-contents__link">Messages</a></li><li><a href="#queries-1" class="table-of-contents__link">Queries</a></li></ul></li><li><a href="#mintable" class="table-of-contents__link">Mintable</a><ul><li><a href="#messages-2" class="table-of-contents__link">Messages</a></li><li><a href="#queries-2" class="table-of-contents__link">Queries</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Related Documentation</h4><ul class="footer__items"><li class="footer__item"><a href="https://cosmos.network/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cosmos SDK</a></li><li class="footer__item"><a href="https://hub.cosmos.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cosmos Hub</a></li><li class="footer__item"><a href="https://docs.tendermint.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tendermint Core</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Repositories</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CosmWasm/cosmwasm" target="_blank" rel="noopener noreferrer" class="footer__link-item">CosmWasm/cosmwasm</a></li><li class="footer__item"><a href="https://github.com/CosmWasm/wasmd" target="_blank" rel="noopener noreferrer" class="footer__link-item">CosmWasm/wasmd</a></li><li class="footer__item"><a href="https://github.com/CosmWasm/cosmwasm-plus" target="_blank" rel="noopener noreferrer" class="footer__link-item">CosmWasm/cosmwasm-plus</a></li><li class="footer__item"><a href="https://github.com/CosmWasm/cawesome-wasm" target="_blank" rel="noopener noreferrer" class="footer__link-item">CosmWasm/cawesome-wasm</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://medium.com/cosmwasm" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://docs.cosmwasm.com/chat/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/CosmWasm" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://cosmwasm.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/docs/img/logo_stacked.png" alt="CosmWasm Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/docs/img/logo_stacked.png" alt="CosmWasm Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2021 Confio OÃœ</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.5f7d9a74.js"></script>
<script src="/docs/assets/js/main.2da47352.js"></script>
</body>
</html>